{% extends "unified_base.html" %}
{% from "components/nvc_components.html" import metric_card, action_card, account_card, transaction_row, form_input, form_select, notification_banner, progress_bar, stats_grid, loading_spinner, empty_state %}
{% from "components/unified_card_system.html" import metric_card_standard, action_card_standard, content_card_standard, account_card_standard, transaction_row_standard, stats_grid_standard, quick_actions_grid_standard, notification_banner_standard, progress_bar_standard, loading_spinner_standard, empty_state_standard, form_input_standard, form_select_standard %}


{% block title %}Islamic Banking Products{% endblock %}

{% block content %}
<div class="nvc-page-content">
    <div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 class="text-white">Islamic Banking Products</h2>
                <div>
                    <button type="button" class="btn nvc-btn nvc-btn-primary">Add New Product</button>
                    <button type="button" class="btn nvc-btn nvc-btn-outline-light">Export Report</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Key Product Metrics -->
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="dashboard-stat-nvc-card">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6 class="text-white mb-0">
                        <i class="fas fa-handshake me-2"></i>
                        Murabaha Financing
                    </h6>
                </div>
                <h3 class="text-white mb-2">$45.2M</h3>
                <p class="text-light small mb-0">Active portfolio</p>
                <div class="mt-2">
                    <span class="badge bg-success">+12.3%</span>
                    <small class="text-light ms-2">vs last month</small>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="dashboard-stat-nvc-card">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6 class="text-white mb-0">
                        <i class="fas fa-building me-2"></i>
                        Ijara Leasing
                    </h6>
                </div>
                <h3 class="text-white mb-2">$28.7M</h3>
                <p class="text-light small mb-0">Lease portfolio</p>
                <div class="mt-2">
                    <span class="badge bg-info">+8.1%</span>
                    <small class="text-light ms-2">vs last month</small>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="dashboard-stat-nvc-card">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6 class="text-white mb-0">
                        <i class="fas fa-certificate me-2"></i>
                        Sukuk Investments
                    </h6>
                </div>
                <h3 class="text-white mb-2">$67.4M</h3>
                <p class="text-light small mb-0">Sukuk portfolio</p>
                <div class="mt-2">
                    <span class="badge bg-warning">+15.7%</span>
                    <small class="text-light ms-2">vs last month</small>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="dashboard-stat-nvc-card">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6 class="text-white mb-0">
                        <i class="fas fa-users me-2"></i>
                        Active Customers
                    </h6>
                </div>
                <h3 class="text-white mb-2">2,847</h3>
                <p class="text-light small mb-0">Islamic banking clients</p>
                <div class="mt-2">
                    <span class="badge bg-success">+5.2%</span>
                    <small class="text-light ms-2">vs last month</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Categories -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="dashboard-stat-nvc-card">
                <h5 class="text-white mb-4">
                    <i class="fas fa-coins me-2"></i>
                    Financing Products
                </h5>
                <div class="table-responsive">
                    <table class="table table-dark table-hover">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Portfolio</th>
                                <th>Rate</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Murabaha</td>
                                <td>$45.2M</td>
                                <td>4.5%</td>
                                <td><span class="badge bg-success">Active</span></td>
                            </tr>
                            <tr>
                                <td>Ijara</td>
                                <td>$28.7M</td>
                                <td>5.2%</td>
                                <td><span class="badge bg-success">Active</span></td>
                            </tr>
                            <tr>
                                <td>Musharaka</td>
                                <td>$18.3M</td>
                                <td>6.1%</td>
                                <td><span class="badge bg-warning">Review</span></td>
                            </tr>
                            <tr>
                                <td>Mudaraba</td>
                                <td>$12.8M</td>
                                <td>7.3%</td>
                                <td><span class="badge bg-success">Active</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="dashboard-stat-nvc-card">
                <h5 class="text-white mb-4">
                    <i class="fas fa-chart-pie me-2"></i>
                    Investment Products
                </h5>
                <div class="table-responsive">
                    <table class="table table-dark table-hover">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Assets</th>
                                <th>Return</th>
                                <th>Sharia Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Sukuk Bonds</td>
                                <td>$67.4M</td>
                                <td>3.8%</td>
                                <td><span class="badge bg-success">Compliant</span></td>
                            </tr>
                            <tr>
                                <td>Islamic Equity</td>
                                <td>$34.6M</td>
                                <td>8.2%</td>
                                <td><span class="badge bg-success">Compliant</span></td>
                            </tr>
                            <tr>
                                <td>Real Estate</td>
                                <td>$89.1M</td>
                                <td>6.7%</td>
                                <td><span class="badge bg-success">Compliant</span></td>
                            </tr>
                            <tr>
                                <td>Commodity Fund</td>
                                <td>$23.5M</td>
                                <td>4.9%</td>
                                <td><span class="badge bg-success">Compliant</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Performance Chart -->
    <div class="row">
        <div class="col-12">
            <div class="dashboard-stat-nvc-card">
                <h5 class="text-white mb-4">
                    <i class="fas fa-chart-line me-2"></i>
                    Product Performance Overview
                </h5>
                <canvas id="productPerformanceChart" height="100"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
// Product performance chart
if (document.getElementById('productPerformanceChart')) {
    const ctx = document.getElementById('productPerformanceChart').getContext('2d');
    new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            datasets: [{
                label: 'Murabaha',
                data: [42.1, 43.5, 44.2, 45.8, 45.0, 45.2],
                borderColor: '#28a745',
                backgroundColor: 'rgba(40, 167, 69, 0.1)',
                fill: true
            }, {
                label: 'Sukuk',
                data: [58.2, 61.3, 64.7, 66.1, 67.0, 67.4],
                borderColor: '#ffc107',
                backgroundColor: 'rgba(255, 193, 7, 0.1)',
                fill: true
            }, {
                label: 'Ijara',
                data: [25.8, 26.9, 27.5, 28.1, 28.4, 28.7],
                borderColor: '#17a2b8',
                backgroundColor: 'rgba(23, 162, 184, 0.1)',
                fill: true
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    grid: { color: 'rgba(255, 255, 255, 0.1)' },
                    ticks: { color: '#e2e8f0' }
                },
                x: {
                    grid: { color: 'rgba(255, 255, 255, 0.1)' },
                    ticks: { color: '#e2e8f0' }
                }
            },
            plugins: {
                legend: { labels: { color: '#e2e8f0' } }
            }
        }
    });
}
</script>
</div>
{% endblock %}